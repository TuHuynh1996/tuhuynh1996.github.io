<style>
        .gameContent {
            width: 100%;
            max-width: 500px;
            /* border: 2px 2px 2px  solid black; */
        }

        .gameContent:after {
            content: "";
            display: block;
            /* the percentage of y over x  */
            padding-top: 100%;
        }

        .square {
            width: 10%;
            background: red;
            float: left;
            box-sizing: border-box;
        }

        .square:after {
            content: "";
            display: block;
            border-radius: 3%;
            border: 1.5px solid black;
            /* the percentage of y over x  */
            padding-top: 99%;
            box-sizing: border-box;
            cursor: pointer;

        }

        .gameTitle {
            width: 100%;
            max-width: 500px;
        }
    </style>
    <div class="gameTitle">
        <div>
            <h3>Chọn ô khác màu với các ô còn lại</h3>
        </div>
        <div>
            <div class="levelDiv">
                <h4>Level: <span class="Level">1</span> </h4>
            </div>
            <div class="timer">
                <h4>Thời gian: <span class="time"></span> </h4>
            </div>
        </div>
    </div>
    <div class="gameContent">

    </div>
<script>
        var x;
        $(document).ready(function () {
            loadGame();
            $(document).on("click", ".true", function () {
                nextLevel(15);
            })
        })
        // next level
        function nextLevel(time) {
            clearInterval(x)
            setCountDown(time)
            $(".Level").text(parseInt($(".Level").text()) + 1)
            loadGame();
        }

        // loading game
        function loadGame() {
            let color = randomColor();
            $(".gameContent").empty();
            for (let i = 0; i < 100; i++) {
                $(".gameContent").append("<div class='square' style='background:" + color + "'></div>");
            }
            $(".square").eq(randomIntFromInterval(0, 99)).css("opacity", gameLevel()).addClass("true")
        }
        //game level
        function gameLevel() {
            let x = parseInt($(".Level").text());
            let y = 1 - 1 / (x + 2)
            return y * y * y * y;
        }
        // min and max included 
        function randomIntFromInterval(min, max) {
            return Math.floor(Math.random() * (max - min + 1) + min);
        }
        // random color
        function randomColor() {
            let colorList = ["Blue", "Green", "Yellow", "Orange", "Red", "Violet"]
            return colorList[randomIntFromInterval(0, colorList.length - 1)]
        }
        //set count down
        function setCountDown(timer) {
            let time = timer - 1;
            x = setInterval(function () {

                // If the count down is over => lost
                if (time < 1) {
                    clearInterval(x);
                    fail();
                }
                $(".time").text(time--)
            }, 1000);
        }
        function fail() {
            $(".true").css("opacity", 0.5).removeClass("true");
            alert("Thành tích của bạn là level " + $(".Level").text());
        }
    </script>